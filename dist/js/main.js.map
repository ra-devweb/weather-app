{"version":3,"sources":["0-ip.js","1-storage.js","2-weather.js","3-ui.js","4-app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["// get ip adress\n\nclass IP {\n\n    async getIpAdress () {\n\n        const response   =   await fetch('https://api.ipify.org/?format=json');\n\n        const respondeData  =   await response.json();\n\n        return respondeData;\n\n    }\n}","// storage\n\nclass Store {\n\n    constructor () {\n        this.city;\n    }\n\n    getLocationData() {\n        if(localStorage.getItem('City')   === null) {\n\n            this.city   =   '';\n        } else {\n            this.city   =   localStorage.getItem('City');\n        }\n\n        return {\n            city:   this.city\n        }\n    }\n\n    setLocationData(city) {\n        localStorage.setItem('City', city);\n    }\n\n}","// Weather Api\n\nclass Weather {\n\n    constructor(ip, city) {\n\n        this.apiKey     =   '0b8274ecac16484e9f9003f527449ec6';\n        this.ip         =   ip;\n        this.city       =   city;\n    }\n\n    async getWeather() {\n\n        const response =  await  fetch(`https://api.weatherbit.io/v2.0/current?${!this.city ? '&ip=' + this.ip : 'city=' + this.city}&key=${this.apiKey}`);\n \n        const responseData  =   await response.json();\n\n        return responseData.data[0];\n\n    }\n\n    changeLocation(city) {\n\n        this.city       =   city;\n    }\n\n}","// UI\n\nclass UI {\n\n    constructor() {\n        this.location   =   document.getElementById('location');\n        this.desc   =   document.getElementById('desc');\n        this.string   =   document.getElementById('string');\n        this.details   =   document.getElementById('details');\n        this.icon   =   document.getElementById('icon');\n        this.humidity   =   document.getElementById('humidity');\n        this.feelsLike   =   document.getElementById('feels-like');\n        this.dewpoint   =   document.getElementById('dewpoint');\n        this.wind   =   document.getElementById('wind');\n        this.clouds   =   document.getElementById('clouds');\n    }\n\n    print(weather) {\n        this.location.textContent   =   weather.city_name + ', ' + weather.country_code;\n        this.desc.textContent       =   weather.weather.description;\n        this.string.textContent     =   weather.temp + ' Â°';\n        this.icon.setAttribute('src', 'https://www.weatherbit.io/static/img/icons/' + weather.weather.icon + '.png');\n        this.humidity.textContent   =   `Relative humidity: ${weather.rh} %`;\n        this.feelsLike.textContent   =   `Feels like: ${weather.app_temp} F`;\n        this.dewpoint.textContent   =   `Dew point : ${weather.dewpt} F`;\n        this.wind.textContent   =   `Wind: From the ${weather.wind_cdir} at ${weather.wind_dir} MPH Gusting to ${weather.wind_spd} MPH`;\n        this.clouds.textContent   =   `Clouds: ${weather.clouds} %`;\n    }\n\n}","// Init get ip adress\n\nconst  ip =  new IP;\n\n// Load the dom content\n\ndocument.addEventListener('DOMContentLoaded', loadFunction);\n\nfunction loadFunction() {\n\n    ip.getIpAdress()\n        .then(data => {\n            // init store\n\n            const store =   new Store;\n\n            // Get store data\n\n            const locationData  =   store.getLocationData();\n\n            // App weather Init\n\n            const weather  =   new Weather(data.ip, locationData.city);\n\n            // UI init\n\n            const ui       =   new UI;\n\n            // Get from form city\n\n            document.querySelector('.box-field__form').addEventListener('submit', e => {\n\n                const  city =   document.querySelector('.box-field__form')['input-field'].value;\n\n                // Change location\n\n                weather.changeLocation(city);\n\n                // Set location\n\n                store.setLocationData(city);\n\n                getWeather();\n\n                document.getElementById('input-field').value  =   '';\n\n                e.preventDefault();\n            })\n\n\n\n            // Get weather data from the api\n\n            weather.getWeather()\n                .then( data => {\n                        \n                    ui.print(data);\n\n                })\n                .catch(err => console.log(err));\n        })\n\n}"]}